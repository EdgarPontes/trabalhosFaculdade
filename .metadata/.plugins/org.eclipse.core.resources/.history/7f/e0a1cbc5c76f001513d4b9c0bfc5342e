package br.com.tecnonoticias.exemplo;

import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;

import javax.swing.ButtonGroup;
import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JRadioButton;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;
import javax.swing.WindowConstants;

@SuppressWarnings("serial")
public class Jmenus extends JFrame {

	private UIManager.LookAndFeelInfo[] looks =  UIManager.getInstalledLookAndFeels();  
	private JRadioButton[] escolha = new JRadioButton[  looks.length ];  
	private ButtonGroup grupo = new ButtonGroup();

	
	 public void atualiza(int i){  
         try {  
         UIManager.setLookAndFeel(looks[i].getClassName());  
         SwingUtilities.updateComponentTreeUI(this);  
         }catch(Exception e) {  
         e.printStackTrace();  
         }  
       }  
	 
	private class ItemSelecionado implements ItemListener {  
        public void itemStateChanged( ItemEvent e) {  
          for (int i=0; i < escolha.length; i++){  
          if (escolha[i].isSelected())  
            atualiza(i);  
          }  
        }  
}  

	private JMenuBar BarraMenu = null;
	private JMenu mnuArquivo = null;
	private JMenuItem mnuSair = null;

	public Jmenus() {
		super();
		initialize();
	}

	private void initialize() {
		
		this.setTitle("Aplicação com menu");
		this.setJMenuBar(getBarraMenu());
		this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
		this.setSize(800, 600);
		this.setVisible(true);
		
		ItemSelecionado iselect = new ItemSelecionado();  
        for (int i = 0; i < looks.length; i++){  
        escolha[i] = new JRadioButton( looks[i].getName() );  
        escolha[i].addItemListener( iselect );  
        grupo.add( escolha[i] );  
        
        }  
        escolha[2].setSelected( true );  
        setDefaultCloseOperation( EXIT_ON_CLOSE );  
        setSize(200,250);  
          
	
		
		try{
			UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());
		}catch(Exception e ){
			e.printStackTrace();
		}
	}

	private JMenuBar getBarraMenu() {
		if (BarraMenu == null) {
			BarraMenu = new JMenuBar();
			BarraMenu.add(getMnuArquivo());
		}
		return BarraMenu;
	}

	private JMenu getMnuArquivo() {
		if (mnuArquivo == null) {
			mnuArquivo = new JMenu();
			mnuArquivo.setText("Arquivo");
			mnuArquivo.add(getMnuSair());
		}
		return mnuArquivo;
	}

	private JMenuItem getMnuSair() {
		if (mnuSair == null) {
			mnuSair = new JMenuItem();
			mnuSair.setText("Sair");
		}
		return mnuSair;
	}

	public static void main(String[] args) {
		new Jmenus();
	}

}