package br.com.tecnonoticias.cienciaDaComputacao3Semestre.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Date;

import br.com.tecnonoticias.cienciaDaComputacao3Semestre.modelo.ConnectionFactory;
import br.com.tecnonoticias.cienciaDaComputacao3Semestre.modelo.Pessoa;
import br.com.tecnonoticias.cienciaDaComputacao3Semestre.modelo.PessoaFisica;

public class PessoaDao {

	// a conexão com o banco de dados
	private Connection connection;

	public PessoaDao() {
		this.connection = new ConnectionFactory().getConnection();
	}
	public void adiciona(PessoaFisica contato) {

	     String sql = "insert into contatos " + "(nome,cpf,endereco,dataNascimento)" + " values (?,?,?,?)";
	     try {
	         // prepared statement para inserção
	         PreparedStatement stmt = connection.prepareStatement(sql);

	         // seta os valores
	         stmt.setString(1,contato.getNome());
	         stmt.setString(2,contato.getCpf());
	         stmt.setString(3,contato.getEndereco());
	         stmt.setDate(4, new Date(contato.getDataNascimento().getTimeInMillis()));

	         // executa
	         stmt.execute();
	         stmt.close();

	     } catch (SQLException e) {
	         throw new RuntimeException(e);
	     }
	 }
}